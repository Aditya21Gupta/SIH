<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATALAPP Emergency System</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: #2a1e1c;
            color: #e0d6c8;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        #root {
            width: 100%;
            max-width: 500px;
            height: 90vh;
            overflow: hidden;
            position: relative;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            background: #3e2b28;
            display: flex;
            flex-direction: column;
        }
        
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #4d3629;
            color: #d9b596;
            padding: 15px 20px;
            border-bottom: 1px solid #5d443f;
        }
        
        .time {
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .app-name {
            font-size: 1.5rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #d9b596;
        }
        
        .header-icon {
            font-size: 1.5rem;
            color: #d9b596;
        }
        
        .view-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .card {
            background: #3e2b28;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            border: 1px solid #5d443f;
            margin-bottom: 20px;
        }
        
        .card-header {
            background: #5d3c2a;
            color: #e2a861;
            padding: 15px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            border-bottom: 1px solid #5d443f;
        }
        
        .card-body {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .alert-content {
            background: #3e2b28;
            border-left: 5px solid #e2a861;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
            color: #e0d6c8;
        }
        
        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        label {
            font-weight: 500;
            color: #d9b596;
            font-size: 0.9rem;
        }
        
        input {
            padding: 15px;
            background: #4d3629;
            border: 1px solid #5d443f;
            border-radius: 10px;
            font-size: 1rem;
            color: #e0d6c8;
        }
        
        input::placeholder {
            color: #a9927e;
        }
        
        input:focus {
            outline: none;
            border-color: #e2a861;
        }
        
        .phone-input {
            display: flex;
        }
        
        .phone-prefix {
            padding: 15px;
            background: #4d3629;
            border: 1px solid #5d443f;
            border-right: none;
            border-radius: 10px 0 0 10px;
            color: #d9b596;
        }
        
        .phone-input input {
            border-radius: 0 10px 10px 0;
            flex-grow: 1;
        }
        
        .checkbox-group {
            flex-direction: row;
            align-items: center;
            gap: 10px;
        }
        
        .checkbox-group input {
            width: auto;
        }
        
        .btn {
            padding: 15px;
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            margin-top: 10px;
            text-align: center;
            font-size: 1.1rem;
        }
        
        .btn-primary {
            background: #e2a861;
            color: #3e2b28;
        }
        
        .btn-primary:hover {
            background: #d99a52;
        }
        
        .btn-danger {
            background: #8c4c3e;
        }
        
        .btn-danger:hover {
            background: #7a4135;
        }
        
        .auth-links {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }
        
        .auth-link {
            color: #e2a861;
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .auth-link:hover {
            text-decoration: underline;
        }
        
        .auth-tabs {
            display: flex;
            margin-bottom: 15px;
            background: #4d3629;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .auth-tab {
            flex: 1;
            text-align: center;
            padding: 12px;
            background: #4d3629;
            cursor: pointer;
            color: #d9b596;
            font-weight: 500;
        }
        
        .auth-tab.active {
            background: #e2a861;
            color: #3e2b28;
        }
        
        .otp-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
        }
        
        .otp-input {
            width: 45px;
            height: 45px;
            text-align: center;
            font-size: 1.2rem;
            background: #4d3629;
            border: 2px solid #5d443f;
            border-radius: 10px;
            color: #e0d6c8;
        }
        
        .otp-input:focus {
            border-color: #e2a861;
            outline: none;
        }
        
        .resend-link {
            text-align: center;
            margin: 10px 0;
        }
        
        h3 {
            color: #e2a861;
            margin-bottom: 15px;
            text-align: center;
        }
        
        p {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .footer-nav {
            display: flex;
            justify-content: space-around;
            background: #4d3629;
            padding: 15px;
            border-top: 1px solid #5d443f;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #a9927e;
            text-decoration: none;
            font-size: 0.8rem;
        }
        
        .nav-item.active {
            color: #e2a861;
        }
        
        .nav-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #e2a861;
            color: #3e2b28;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .nav-item-wrapper {
            position: relative;
        }
        
        .back-button {
            background: none;
            border: none;
            color: #d9b596;
            font-size: 1.2rem;
            cursor: pointer;
        }
        
        .view-title {
            text-align: center;
            color: #e2a861;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        /* Animation for view transitions */
        .view-enter {
            opacity: 0;
            transform: translateX(100%);
        }
        
        .view-enter-active {
            opacity: 1;
            transform: translateX(0);
            transition: opacity 300ms, transform 300ms;
        }
        
        .view-exit {
            opacity: 1;
            transform: translateX(0);
        }
        
        .view-exit-active {
            opacity: 0;
            transform: translateX(-100%);
            transition: opacity 300ms, transform 300ms;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Header Component
        function Header({ currentView, onBack, showBack }) {
            const [currentTime, setCurrentTime] = useState("9:41");
            
            useEffect(() => {
                const interval = setInterval(() => {
                    const now = new Date();
                    setCurrentTime(`${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`);
                }, 1000);
                
                return () => clearInterval(interval);
            }, []);
            
            return (
                <div className="header">
                    {showBack ? (
                        <button className="back-button" onClick={onBack}>
                            <i className="fas fa-arrow-left"></i>
                        </button>
                    ) : (
                        <div className="time">{currentTime}</div>
                    )}
                    <div className="app-name">ATALAPP</div>
                    <div className="header-icon">
                        <i className="fas fa-user-circle"></i>
                    </div>
                </div>
            );
        }

        // Footer Navigation Component
        function FooterNav({ currentView, onChangeView }) {
            return (
                <div className="footer-nav">
                    <div className="nav-item-wrapper">
                        <a href="#" className={`nav-item ${currentView === 'dashboard' ? 'active' : ''}`}
                           onClick={(e) => { e.preventDefault(); onChangeView('dashboard'); }}>
                            <div className="nav-icon">
                                <i className="fas fa-home"></i>
                            </div>
                            <span>Home</span>
                        </a>
                    </div>
                    
                    <div className="nav-item-wrapper">
                        <a href="#" className={`nav-item ${currentView === 'alerts' ? 'active' : ''}`}
                           onClick={(e) => { e.preventDefault(); onChangeView('alerts'); }}>
                            <div className="nav-icon">
                                <i className="fas fa-bell"></i>
                                <div className="notification-badge">3</div>
                            </div>
                            <span>Alerts</span>
                        </a>
                    </div>
                    
                    <div className="nav-item-wrapper">
                        <a href="#" className={`nav-item ${currentView === 'profile' ? 'active' : ''}`}
                           onClick={(e) => { e.preventDefault(); onChangeView('profile'); }}>
                            <div className="nav-icon">
                                <i className="fas fa-user"></i>
                            </div>
                            <span>Profile</span>
                        </a>
                    </div>
                    
                    <div className="nav-item-wrapper">
                        <a href="#" className={`nav-item ${currentView === 'settings' ? 'active' : ''}`}
                           onClick={(e) => { e.preventDefault(); onChangeView('settings'); }}>
                            <div className="nav-icon">
                                <i className="fas fa-cog"></i>
                            </div>
                            <span>Settings</span>
                        </a>
                    </div>
                </div>
            );
        }

        // Alert Card Component
        function AlertCard({ onAcknowledge }) {
            const [acknowledged, setAcknowledged] = useState(false);
            
            const handleAcknowledge = () => {
                setAcknowledged(true);
                onAcknowledge();
            };
            
            return (
                <div className="card alert-card">
                    <div className="card-header">
                        DASHBOARD ALERT
                    </div>
                    <div className="card-body">
                        <h3>SYSTEM ALERT</h3>
                        <div className="alert-content">
                            <p>Please initiate immediate evacuation. Your primary route is to proceed to Safe Zone Charlie by following the blue marked path, which is also indicated on the new dashboard from the Pt Controller's Office.</p>
                            <p>Upon arrival at the safe zone, you must use your personal safety beacon to confirm your location and report your presence to your supervisor or the on-site safety officer.</p>
                            <p>Additionally, if you encounter any colleagues during evacuation, please instruct them to follow the same route and activate an emergency breathing apparatus as the air quality sensors have noted a potential change.</p>
                            <p>It is crucial to prioritize your safety and remain calm throughout the process.</p>
                        </div>
                        <button 
                            className={`btn ${acknowledged ? 'btn-primary' : 'btn-danger'}`}
                            onClick={handleAcknowledge}
                        >
                            {acknowledged ? 'Alert Acknowledged' : 'Acknowledge Alert'}
                        </button>
                    </div>
                </div>
            );
        }

        // Sign Up Card Component
        function SignUpCard() {
            const [formData, setFormData] = useState({
                username: '',
                phone: '',
                pitNumber: '',
                agreedToTerms: false
            });
            
            const handleChange = (e) => {
                const { name, value, type, checked } = e.target;
                setFormData(prev => ({
                    ...prev,
                    [name]: type === 'checkbox' ? checked : value
                }));
            };
            
            const handleSubmit = (e) => {
                e.preventDefault();
                if (!formData.agreedToTerms) {
                    alert('Please agree to the Terms & Conditions and Privacy Policy');
                    return;
                }
                alert(`Sign up successful!\nUsername: ${formData.username}\nPhone: ${formData.phone}\nPit Number: ${formData.pitNumber}`);
            };
            
            return (
                <div className="card">
                    <div className="card-header">
                        Sign Up
                    </div>
                    <div className="card-body">
                        <form className="auth-form" onSubmit={handleSubmit}>
                            <div className="form-group">
                                <label htmlFor="username">Username</label>
                                <input 
                                    type="text" 
                                    id="username" 
                                    name="username"
                                    placeholder="Enter Username" 
                                    value={formData.username}
                                    onChange={handleChange}
                                    required
                                />
                            </div>
                            
                            <div className="form-group">
                                <label htmlFor="phone">Phone Number</label>
                                <div className="phone-input">
                                    <div className="phone-prefix">+91</div>
                                    <input 
                                        type="tel" 
                                        id="phone" 
                                        name="phone"
                                        placeholder="Enter Phone Number" 
                                        value={formData.phone}
                                        onChange={handleChange}
                                        required
                                    />
                                </div>
                            </div>
                            
                            <div className="form-group">
                                <label htmlFor="pitNumber">Pit Number</label>
                                <input 
                                    type="text" 
                                    id="pitNumber" 
                                    name="pitNumber"
                                    placeholder="Enter Pit Number" 
                                    value={formData.pitNumber}
                                    onChange={handleChange}
                                    required
                                />
                            </div>
                            
                            <div className="form-group checkbox-group">
                                <input 
                                    type="checkbox" 
                                    id="terms" 
                                    name="agreedToTerms"
                                    checked={formData.agreedToTerms}
                                    onChange={handleChange}
                                />
                                <label htmlFor="terms">I agree to the Terms & Conditions and Privacy Policy.</label>
                            </div>
                            
                            <button type="submit" className="btn btn-primary">Sign Up</button>
                        </form>
                    </div>
                </div>
            );
        }

        // Sign In Card Component
        function SignInCard() {
            const [activeTab, setActiveTab] = useState('signin');
            const [formData, setFormData] = useState({
                username: 'John Doe',
                pitNumber: '',
                rememberMe: false
            });
            
            const handleChange = (e) => {
                const { name, value, type, checked } = e.target;
                setFormData(prev => ({
                    ...prev,
                    [name]: type === 'checkbox' ? checked : value
                }));
            };
            
            const handleSubmit = (e) => {
                e.preventDefault();
                alert(`Sign in successful!\nUsername: ${formData.username}\nPit Number: ${formData.pitNumber}`);
            };
            
            return (
                <div className="card">
                    <div className="card-header">
                        Welcome Back!
                    </div>
                    <div className="card-body">
                        <div className="auth-tabs">
                            <div 
                                className={`auth-tab ${activeTab === 'signup' ? 'active' : ''}`}
                                onClick={() => setActiveTab('signup')}
                            >
                                Sign Up
                            </div>
                            <div 
                                className={`auth-tab ${activeTab === 'signin' ? 'active' : ''}`}
                                onClick={() => setActiveTab('signin')}
                            >
                                Sign In
                            </div>
                        </div>
                        
                        <form className="auth-form" onSubmit={handleSubmit}>
                            <div className="form-group">
                                <label htmlFor="signin-username">Username</label>
                                <input 
                                    type="text" 
                                    id="signin-username" 
                                    name="username"
                                    placeholder="John Doe" 
                                    value={formData.username}
                                    onChange={handleChange}
                                    required
                                />
                            </div>
                            
                            <div className="form-group">
                                <label htmlFor="signin-pit">Pit Number</label>
                                <input 
                                    type="text" 
                                    id="signin-pit" 
                                    name="pitNumber"
                                    placeholder="Enter Pit Number" 
                                    value={formData.pitNumber}
                                    onChange={handleChange}
                                    required
                                />
                            </div>
                            
                            <div className="form-group checkbox-group">
                                <input 
                                    type="checkbox" 
                                    id="remember" 
                                    name="rememberMe"
                                    checked={formData.rememberMe}
                                    onChange={handleChange}
                                />
                                <label htmlFor="remember">Remember me</label>
                            </div>
                            
                            <button type="submit" className="btn btn-primary">Sign In</button>
                            
                            <div className="auth-links">
                                <a href="#" className="auth-link">Forgot Details?</a>
                                <a href="#" className="auth-link">Don't have an account? Sign Up</a>
                            </div>
                        </form>
                    </div>
                </div>
            );
        }

        // Verify Code Card Component
        function VerifyCodeCard() {
            const [otp, setOtp] = useState(['', '', '', '', '', '']);
            
            const handleOtpChange = (index, value) => {
                if (!/^\d*$/.test(value)) return; // Only allow numbers
                
                const newOtp = [...otp];
                newOtp[index] = value;
                setOtp(newOtp);
                
                // Auto focus to next input
                if (value && index < 5) {
                    document.getElementById(`otp-${index+1}`).focus();
                }
            };
            
            const handleKeyDown = (index, e) => {
                if (e.key === 'Backspace' && !otp[index] && index > 0) {
                    document.getElementById(`otp-${index-1}`).focus();
                }
            };
            
            const handleSubmit = (e) => {
                e.preventDefault();
                const code = otp.join('');
                if (code.length !== 6) {
                    alert('Please enter a complete 6-digit code');
                    return;
                }
                alert(`Verification successful!\nCode: ${code}`);
            };
            
            return (
                <div className="card">
                    <div className="card-header">
                        Verify Code
                    </div>
                    <div className="card-body">
                        <form className="auth-form" onSubmit={handleSubmit}>
                            <p>Enter the verification code sent to your phone</p>
                            
                            <div className="otp-container">
                                {otp.map((digit, index) => (
                                    <input
                                        key={index}
                                        id={`otp-${index}`}
                                        type="text"
                                        className="otp-input"
                                        maxLength="1"
                                        value={digit}
                                        onChange={(e) => handleOtpChange(index, e.target.value)}
                                        onKeyDown={(e) => handleKeyDown(index, e)}
                                    />
                                ))}
                            </div>
                            
                            <div className="resend-link">
                                <a href="#" className="auth-link">Didn't receive OTP? Resend code</a>
                            </div>
                            
                            <button type="submit" className="btn btn-primary">Verify</button>
                            
                            <div className="auth-links">
                                <a href="#" className="auth-link">Don't have an account? Sign Up</a>
                            </div>
                        </form>
                    </div>
                </div>
            );
        }

        // Dashboard View Component
        function DashboardView() {
            return (
                <div className="view-container">
                    <h2 className="view-title">Emergency Dashboard</h2>
                    <AlertCard onAcknowledge={() => alert('Alert acknowledged! Proceed to Safe Zone Charlie.')} />
                    <div className="card">
                        <div className="card-header">
                            Emergency Contacts
                        </div>
                        <div className="card-body">
                            <p><strong>Safety Officer:</strong> John Smith - 555-1234</p>
                            <p><strong>Supervisor:</strong> Jane Doe - 555-5678</p>
                            <p><strong>Medical Emergency:</strong> 555-911</p>
                        </div>
                    </div>
                </div>
            );
        }

        // Alerts View Component
        function AlertsView() {
            return (
                <div className="view-container">
                    <h2 className="view-title">Emergency Alerts</h2>
                    <AlertCard onAcknowledge={() => alert('Alert acknowledged!')} />
                    <div className="card">
                        <div className="card-header">
                            Previous Alerts
                        </div>
                        <div className="card-body">
                            <p><strong>Drill Completed:</strong> Fire Evacuation Drill - Oct 15, 2023</p>
                            <p><strong>System Test:</strong> Alert System Test - Oct 10, 2023</p>
                        </div>
                    </div>
                </div>
            );
        }

        // Profile View Component
        function ProfileView() {
            return (
                <div className="view-container">
                    <h2 className="view-title">User Profile</h2>
                    <SignInCard />
                </div>
            );
        }

        // Settings View Component
        function SettingsView() {
            return (
                <div className="view-container">
                    <h2 className="view-title">App Settings</h2>
                    <div className="card">
                        <div className="card-header">
                            Notification Settings
                        </div>
                        <div className="card-body">
                            <div className="form-group checkbox-group">
                                <input type="checkbox" id="emergency-alerts" defaultChecked />
                                <label htmlFor="emergency-alerts">Emergency Alerts</label>
                            </div>
                            <div className="form-group checkbox-group">
                                <input type="checkbox" id="drill-notifications" defaultChecked />
                                <label htmlFor="drill-notifications">Drill Notifications</label>
                            </div>
                            <div className="form-group checkbox-group">
                                <input type="checkbox" id="system-updates" />
                                <label htmlFor="system-updates">System Updates</label>
                            </div>
                        </div>
                    </div>
                    <div className="card">
                        <div className="card-header">
                            Account Management
                        </div>
                        <div className="card-body">
                            <button className="btn btn-primary">Change Password</button>
                            <button className="btn btn-danger">Log Out</button>
                        </div>
                    </div>
                </div>
            );
        }

        // Main App Component
        function App() {
            const [currentView, setCurrentView] = useState('dashboard');
            const [viewHistory, setViewHistory] = useState(['dashboard']);
            
            const changeView = (newView) => {
                setViewHistory([...viewHistory, newView]);
                setCurrentView(newView);
            };
            
            const goBack = () => {
                if (viewHistory.length > 1) {
                    const newHistory = [...viewHistory];
                    newHistory.pop();
                    setViewHistory(newHistory);
                    setCurrentView(newHistory[newHistory.length - 1]);
                }
            };
            
            const showBackButton = viewHistory.length > 1;
            
            const renderView = () => {
                switch (currentView) {
                    case 'dashboard':
                        return <DashboardView />;
                    case 'alerts':
                        return <AlertsView />;
                    case 'profile':
                        return <ProfileView />;
                    case 'settings':
                        return <SettingsView />;
                    default:
                        return <DashboardView />;
                }
            };
            
            return (
                <div className="app-container">
                    <Header 
                        currentView={currentView} 
                        onBack={goBack}
                        showBack={showBackButton}
                    />
                    {renderView()}
                    <FooterNav 
                        currentView={currentView} 
                        onChangeView={changeView}
                    />
                </div>
            );
        }

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
